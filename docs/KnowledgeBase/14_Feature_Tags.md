# Feature: Tags

**Directory**: `src/features/tags`

This feature handles the taxonomy system: Tags and Colors.

## Components

### `TagManager` (`components/TagManager.tsx`)
A panel (usually inside Settings or a dedicated modal) to manage the global list of tags.
-   **Function**: Allows renaming or deleting tags globally (bulk update).
-   *Status*: Basic implementation.

### `AddTagModal` (`components/AddTagModal.tsx`)
A dialog to add tags to the current selection.
-   **Autocomplete**: Suggests existing tags from `LibraryContext.availableTags`.
-   **Creation**: Allows typing a new tag and pressing Enter.

## Logic

**Tag Storage**:
Tags are stored as a JSON array string `["nature", "dark"]` in the `metadata` table of SQLite.

**Color Tags**:
A fixed set of 6 colors: Red, Orange, Yellow, Green, Blue, Purple.
-   Stored as string: `"red"`, `"blue"`, etc.
-   UI renders these as small dots on the `PhotoCard`.
-   Filtering: Clicking a color dot in the TopBar sets `activeColorFilter`.

**AI vs Manual**:
The system distinguishes between:
-   `aiTags`: Generated by Gemini (High confidence).
-   `manualTags`: Added by user.
-   **UI**: AI tags might have a special style (sparkle icon) or be separate in the details panel.
-   **Search**: The search index includes both.
